<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>λƒ‰μ¥κ³  λ¶€νƒν•΄ μ£Όλ¬Έ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: sans-serif;
      max-width: 600px;
      margin: auto;
      padding: 20px;
      background: #f7f7f7;
    }
    h1 {
      text-align: center;
      margin-bottom: 10px;
    }
    label, select, input, button {
      display: block;
      margin: 10px 0;
      width: 100%;
      padding: 10px;
      font-size: 16px;
    }
    #result {
      margin-top: 20px;
      padding: 10px;
      background: #e0ffe0;
      border: 1px solid #b2ffb2;
      white-space: pre-line;
    }
    .subtitle {
      font-weight: bold;
      margin-top: 30px;
    }
    .account-info {
      margin-top: 10px;
      background: #fff4cc;
      padding: 10px;
      border: 1px solid #ffe58f;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>λƒ‰μ¥κ³  λ¶€νƒν•΄! μ£Όλ¬Έμ„</h1>

  <form id="orderForm">
    <span class="subtitle">μ„ΈνΈ λ©”λ‰΄</span>
    <select id="setMenu">
      <option value="none">μ„ νƒ μ•ν•¨</option>
      <option value="λƒ‰μ¥κ³  μ„ΈνΈ">λƒ‰μ¥κ³  μ„ΈνΈ - λ©”μΈ 2κ°, μ‚¬μ΄λ“ 1κ° (44,900μ›)</option>
      <option value="λ¶€νƒν•΄ μ„ΈνΈ">λ¶€νƒν•΄ μ„ΈνΈ - λ©”μΈ 1κ°, μ‚¬μ΄λ“ 2κ° (39,900μ›)</option>
      <option value="μ΄λ²¤νΈ">μ΄λ²¤νΈ λ©”λ‰΄ - μ…°ν”„κ°€ μ„ νƒ (1μΈλ‹Ή 14,900μ›)</option>
    </select>

    <span class="subtitle">λ©”μΈ λ©”λ‰΄ (ν•„μ”ν• μλ§νΌ μ„ νƒ)</span>
    <select id="main1">
      <option value="μ—†μ">μ„ νƒ μ•ν•¨</option>
      <option value="μ°μ‚Όκ²Ή&λΉ„λΉ”λ©΄">μ°μ‚Όκ²Ή&λΉ„λΉ”λ©΄ (19900)</option>
      <option value="μ–΄λ¬µνƒ•">μ–΄λ¬µνƒ• (19900)</option>
      <option value="μ°μ‚Όκ²Ήμ™μ£Όλ³¶μ">μ°μ‚Όκ²Ήμ™μ£Όλ³¶μ (19900)</option>
    </select>
    <select id="main2">
      <option value="μ—†μ">μ„ νƒ μ•ν•¨</option>
      <option value="μ°μ‚Όκ²Ή&λΉ„λΉ”λ©΄">μ°μ‚Όκ²Ή&λΉ„λΉ”λ©΄ (19900)</option>
      <option value="μ–΄λ¬µνƒ•">μ–΄λ¬µνƒ• (19900)</option>
      <option value="μ°μ‚Όκ²Ήμ™μ£Όλ³¶μ">μ°μ‚Όκ²Ήμ™μ£Όλ³¶μ (19900)</option>
    </select>

    <span class="subtitle">μ‚¬μ΄λ“ λ©”λ‰΄ (ν•„μ”ν• μλ§νΌ μ„ νƒ)</span>
    <select id="side1">
      <option value="μ—†μ">μ„ νƒ μ•ν•¨</option>
      <option value="ν† λ§ν†  κ³„λ€λ³¶μ">ν† λ§ν†  κ³„λ€λ³¶μ (9900)</option>
      <option value="λ¨Ήνƒ">λ¨Ήνƒ (15900)</option>
      <option value="κΉλ‘κΈ°">κΉλ‘κΈ° (6900)</option>
      <option value="ν™©λ„ ν™”μ±„">ν™©λ„ ν™”μ±„ (9900)</option>
      <option value="μ½μΉμ¦">μ½μΉμ¦ (5900)</option>
    </select>
    <select id="side2">
      <option value="μ—†μ">μ„ νƒ μ•ν•¨</option>
      <option value="ν† λ§ν†  κ³„λ€λ³¶μ">ν† λ§ν†  κ³„λ€λ³¶μ (9900)</option>
      <option value="λ¨Ήνƒ">λ¨Ήνƒ (15900)</option>
      <option value="κΉλ‘κΈ°">κΉλ‘κΈ° (6900)</option>
      <option value="ν™©λ„ ν™”μ±„">ν™©λ„ ν™”μ±„ (9900)</option>
      <option value="μ½μΉμ¦">μ½μΉμ¦ (5900)</option>
    </select>

    <span class="subtitle">μ£Όλ¬Έμ μ •λ³΄</span>
    <label for="name">μ΄λ¦„:</label>
    <input type="text" id="name" required>

    <label for="phone">μ „ν™”λ²νΈ:</label>
    <input type="tel" id="phone" required>

    <button type="submit">μ£Όλ¬Έν•κΈ°</button>
  </form>

  <div id="result"></div>
  <div class="account-info" onclick="copyAccount()">π’³ μ…κΈ κ³„μΆ: κµ­λ―Ό 944502-00-883512 (ν΄λ¦­ μ‹ λ³µμ‚¬)</div>

  <script>
    const prices = {
      setMenu: {
        'λƒ‰μ¥κ³  μ„ΈνΈ': 44900,
        'λ¶€νƒν•΄ μ„ΈνΈ': 39900,
        'μ΄λ²¤νΈ': 14900
      },
      main: {
        'μ°μ‚Όκ²Ή&λΉ„λΉ”λ©΄': 19900,
        'μ–΄λ¬µνƒ•': 19900,
        'μ°μ‚Όκ²Ήμ™μ£Όλ³¶μ': 19900
      },
      side: {
        'ν† λ§ν†  κ³„λ€λ³¶μ': 9900,
        'λ¨Ήνƒ': 15900,
        'κΉλ‘κΈ°': 6900,
        'ν™©λ„ ν™”μ±„': 9900,
        'μ½μΉμ¦': 5900
      }
    };

    document.getElementById('orderForm').addEventListener('submit', function(e) {
      e.preventDefault();

      const setMenu = document.getElementById('setMenu').value;
      const main1 = document.getElementById('main1').value;
      const main2 = document.getElementById('main2').value;
      const side1 = document.getElementById('side1').value;
      const side2 = document.getElementById('side2').value;
      const name = document.getElementById('name').value;
      const phone = document.getElementById('phone').value;

      let total = 0;

      if (setMenu !== 'none') {
        total += prices.setMenu[setMenu];
      } else {
        if (main1 !== 'μ—†μ') total += prices.main[main1];
        if (main2 !== 'μ—†μ') total += prices.main[main2];
        if (side1 !== 'μ—†μ') total += prices.side[side1];
        if (side2 !== 'μ—†μ') total += prices.side[side2];
      }

      const message =
        `${name}λ‹ μ£Όλ¬Έ λ‚΄μ—­:\n` +
        `μ„ΈνΈ: ${setMenu !== 'none' ? setMenu : 'μ„ νƒ μ•ν•¨'}\n` +
        `λ©”μΈ: ${main1}` + (main2 !== "μ—†μ" ? ", " + main2 : "") + "\n" +
        `μ‚¬μ΄λ“: ${side1}` + (side2 !== "μ—†μ" ? ", " + side2 : "") + "\n" +
        `μ΄ κΈμ•΅: ${total.toLocaleString()}μ›\n` +
        `μ—°λ½μ²: ${phone}`;

      document.getElementById('result').innerText = message;

      // Google Apps Script Webhook μ—°λ™
      fetch('https://script.google.com/macros/s/AKfycbyvN96NKMvVWSZqz7A_UmQ4H-3k6OMpw60VXnpdThEzwTHmYZ_GXQChmlUoB-1wLT-0/exec', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          name,
          phone,
          setMenu,
          main1,
          main2,
          side1,
          side2,
          total
        })
      })
      .then(res => res.text())
      .then(result => {
        console.log('Google Sheets μ €μ¥ κ²°κ³Ό:', result);
      });
    });

    function copyAccount() {
      const temp = document.createElement('textarea');
      temp.value = 'κµ­λ―Ό 944502-00-883512';
      document.body.appendChild(temp);
      temp.select();
      document.execCommand('copy');
      document.body.removeChild(temp);
      alert('κ³„μΆλ²νΈκ°€ λ³µμ‚¬λμ—μµλ‹λ‹¤!');
    }
  </script>
</body>
</html>
